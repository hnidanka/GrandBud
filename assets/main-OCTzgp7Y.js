(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const v of c.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&i(v)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();async function x(e){try{return await(await fetch(e)).json()}catch(t){return console.error("Error fetching data:",t.message),null}}function q(e){document.querySelectorAll(e).forEach(s=>{s.addEventListener(s.tagName==="SELECT"?"change":"click",i=>{i.preventDefault();const o=s.tagName==="SELECT"?i.target.value:s.getAttribute("data-target");_(o)})})}function _(e){if(e==="pricelist"){window.location.href="pricelist.html";return}const t=document.getElementById(e);t&&(t.scrollIntoView({behavior:"smooth",block:"start"}),W())}function W(){const e=document.querySelector("#menuBar-icon"),t=document.querySelector(".logo-container"),s=document.querySelector("nav ul"),i=document.querySelector("nav");e&&t&&i&&(e.classList.remove("full-width"),s.classList.remove("show","column"),t.classList.remove("hide"),i.classList.remove("column"))}function H(e){if(console.log(e),e){const t=document.getElementById(e);console.log(t),t&&t.scrollIntoView({behavior:"smooth",block:"start"})}}function P(e){document.querySelectorAll(e).forEach(s=>{s.addEventListener("click",i=>{i.preventDefault(),e==="#services .services-action button"?window.location.href="pricelist.html":window.location.href="/"})})}function T(e,t,s=""){t.innerHTML=`<p>${s}</p>`,s==="Ładowanie"&&(t.innerHTML=`
        <p>${s}</p>
        <div class="newtons-cradle">
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        </div>`),e.classList.remove("hide"),e.classList.add("show","fade"),setTimeout(()=>{e.classList.remove("show","fade"),e.classList.add("hide")},3e3)}function O(){const e=d=>d<=9?`0${d}`:d;function t(d,g){d.forEach(m=>m.classList.remove("active")),d[g].classList.add("active")}function s(d,g,m,S,D,M){let h=1,E=0,w=0,B=window.getComputedStyle(d).width;g.style.width=`${B.slice(0,B.length-2)*m.length}px`,S.textContent=e(m.length),t(D,0),m.forEach(k=>{E=k.clientWidth}),m[0].classList.add("focused");const A=(k,N)=>{m[N-1].classList.add("focused"),M.textContent=e(N),g.style.transform=`translateX(-${k}px)`};return{nextSlide:()=>(m[h-1].classList.remove("focused"),w>=E*(m.length-1)?(w=0,h=1):(w+=E,h+=1),A(w,h),h-1),prevSlide:()=>(m[h-1].classList.remove("focused"),w===0?(w=E*(m.length-1),h=m.length):(w-=E,h-=1),A(w,h),h-1),navToSlide:k=>(m[h-1].classList.remove("focused"),h=parseInt(k),w=(h-1)*E,A(w,h),h-1)}}async function i(d,g){const S=(await x(g)).works[d-1];S?(L.classList.add("fade"),L.innerHTML=`
                <h2>${S.header}</h2>
                <p>${S.location}</p>
                <p>${S.leadTime}</p>
                <p>${S.scopeOfWork}</p>
            `):L.innerHTML="No description available."}const o=d=>{t(b,d),i(d+1,"data/works.json"),L.classList.remove("fade")},c=document.querySelector(".works-slider-actions"),v=c.querySelector(".current"),p=c.querySelector(".total"),u=document.querySelector(".next-action"),n=document.querySelector(".prev-action"),l=document.querySelector(".works-slider"),r=document.querySelector(".works-slider-inner"),a=document.querySelectorAll(".works-slide"),f=document.querySelector(".slider-nav"),b=f.querySelectorAll(".block"),L=document.querySelector(".work-slide-descr"),y=s(l,r,a,p,b,v);i(1,"data/works.json"),u.addEventListener("click",d=>{d.preventDefault(),o(y.nextSlide())}),n.addEventListener("click",d=>{o(y.prevSlide())}),b.forEach(d=>{d.addEventListener("click",g=>{const m=g.target.getAttribute("data-to-slide");o(y.navToSlide(m))})});let I=0,$=0,C=!1;l.addEventListener("touchstart",d=>{I=d.touches[0].clientX,C=!0}),l.addEventListener("touchmove",d=>{C&&($=d.touches[0].clientX)}),l.addEventListener("touchend",()=>{if(!C)return;const d=I-$;d>50?o(y.nextSlide()):d<-50&&o(y.prevSlide()),C=!1})}function X(){const e=document.querySelector("#services-list"),t=e.querySelectorAll(".service-block");async function s(){const{services:i}=await x("data/services.json");t.forEach((o,c)=>{o.innerHTML=`
                <h3 class="service-name"> ${i[c].name} </h3>
                <img class="service-icon" src=${i[c].img} alt=${i[c].name}>
                <p class="service-description"> ${i[c].description}</p>
            `})}s()}function U(){const e={loading:"Ładowanie",success:"Skontaktujemy się z tobą jak najszybciej",failure:"Coś poszło nie tak"},t=document.querySelector(".modal"),s=t.querySelector(".modal-content");emailjs.init("1mXxwMPcfi6IffBb9");const i="service_i2jy12d",o="template_wvdsbu8";document.getElementById("contact-form").addEventListener("submit",function(c){c.preventDefault(),T(t,s,e.loading),emailjs.sendForm(i,o,this).then(()=>{T(t,s,e.success),c.target.reset()},v=>{T(t,s,e.failure)})})}function j(){const e=document.querySelector("nav"),t=document.querySelector("#menuBar-icon"),s=document.querySelector(".logo-container"),i=document.querySelector("nav ul");document.querySelector("#services .services-action button"),window.addEventListener("click",u=>{const n=u.target;window.innerWidth<=768&&(t.contains(n)?e.classList.contains("column")?c():o():i.contains(n)?n.tagName==="LI"&&c():c())});function o(){e.classList.add("column"),t.classList.add("hide"),i.classList.add("show"),s.classList.add("hide")}function c(){e.classList.remove("column"),t.classList.remove("hide"),i.classList.remove("show"),s.classList.remove("hide")}window.location.pathname=="/"&&P("#services .services-action button");const p=new URLSearchParams(window.location.search).get("section");p&&H(p)}async function R(){async function e(){const u=document.querySelector("#pricelistNav");if(u)try{const n=await fetch("data/pricelist.json");if(!n.ok)throw new Error("Error in try");const{pricelist:l}=await n.json(),r=document.createElement("ul");r.classList.add("categotyList"),l.forEach(a=>{const f=document.createElement("li");f.setAttribute("data-target",`${a.id}`),f.textContent=a.category,f.classList.add("category"),r.appendChild(f)}),u.appendChild(r),q("#pricelistNav li")}catch{console.log("Error")}}e();async function t(){const u=document.querySelector("#pricelistNav-select");if(u)try{const n=await fetch("data/pricelist.json");if(!n.ok)throw new Error("Error in try");const{pricelist:l}=await n.json(),r=document.createElement("select");r.setAttribute("name","categoryList"),r.setAttribute("id","categoryList"),l.forEach(a=>{const f=document.createElement("option");f.setAttribute("value",a.id),f.textContent=a.category,r.appendChild(f)}),u.appendChild(r),q("#pricelistNav-select select")}catch{console.log("Error")}}t();class s{constructor(n,l,r,a){this.id=n,this.name=l,this.price_net=r,this.unit=a}addItem(){const n=document.createElement("tr");return n.innerHTML=`
            <td class="column-category-lp">${this.id}</td>
            <td class="column-category-name">${this.name}</td>
            <td class="column-category-price">${this.price_net}</td>
            <td class="column-category-unit">${this.unit}</td>`,n}}class i{constructor(n,l,r){this.id=n,this.category=l,this.items=r}addCategoryHeader(){const n=document.querySelector("#pricelist"),l=document.createElement("table"),r=document.createElement("thead");r.innerHTML=`<tr>
                <th>Lp.</th>
                <th>${this.category}</th>
                <th>Cena netto (PLN)</th>
                <th>j.m.</th>
            </tr>`,l.appendChild(r),l.setAttribute("id",`${this.id}`);const a=document.createElement("tbody");this.items.forEach(({item_id:f,name:b,price_net:L,unit:y})=>{const I=new s(f,b,L,y);a.appendChild(I.addItem())}),l.appendChild(a),n.appendChild(l)}}const o=await fetch("data/pricelist.json");o.ok?(await o.json()).pricelist.forEach(({id:n,category:l,items:r})=>{new i(n,l,r).addCategoryHeader()}):console.error("Błąd w pobieraniu danych:",o.status),P("header nav ul li");const v=new URLSearchParams(window.location.search).get("service");v&&H(v);const p=document.querySelectorAll("nav ul li");p.length>0&&p.forEach(u=>{u.addEventListener("click",n=>{n.preventDefault();const l=u.getAttribute("data-target");console.log(l),l&&(window.location.href=`./?section=${encodeURIComponent(l)}`)})})}function V(){const e=document.querySelectorAll(".service-block");document.querySelector("#services-list");const t=document.querySelectorAll(".about-us-offer ul li"),s=document.querySelectorAll(".slogan"),i=document.querySelectorAll(".about-us-image-block img"),o=document.querySelector(".home-content .home-descr p"),c=document.querySelector(".home-content .home-action button"),v=r=>{const a=r.getBoundingClientRect();return a.top>=0&&a.bottom<=window.innerHeight},p=(r,a="in-view")=>{r.classList.add(a)},u=(r,a)=>{setTimeout(()=>{p(r)},a*100)},n=r=>{window.innerWidth>768?r.forEach((a,f)=>{v(a)&&!a.classList.contains("in-view")&&u(a,f)}):r.forEach(a=>{v(a)&&!a.classList.contains("in-view")&&a.classList.add("in-view")})},l=()=>{window.addEventListener("scroll",()=>{n(e),n(t),n(s),n(i)})};p(o),setTimeout(()=>{p(c)},1e3),l()}window.addEventListener("load",()=>{window.location.pathname.endsWith("/")||window.location.pathname.endsWith("index.html")?(V(),X(),O(),U(),q("nav ul li"),q(".about-us-action"),q(".home-action button"),j()):window.location.pathname.endsWith("pricelist.html")&&(R(),j())});
