(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const v of c.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&s(v)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();async function H(t){try{return await(await fetch(t)).json()}catch(e){return console.error("Error fetching data:",e.message),null}}function q(t){document.querySelectorAll(t).forEach(n=>{n.addEventListener(n.tagName==="SELECT"?"change":"click",s=>{s.preventDefault();const o=n.tagName==="SELECT"?s.target.value:n.getAttribute("data-target");W(o)})})}function W(t){if(t==="pricelist"){window.location.href="pricelist.html";return}const e=document.getElementById(t);e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),O())}function O(){const t=document.querySelector("#menuBar-icon"),e=document.querySelector(".logo-container"),n=document.querySelector("nav ul"),s=document.querySelector("nav");t&&e&&s&&(t.classList.remove("full-width"),n.classList.remove("show","column"),e.classList.remove("hide"),s.classList.remove("column"))}function P(t){if(console.log(t),t){const e=document.getElementById(t);console.log(e),e&&e.scrollIntoView({behavior:"smooth",block:"start"})}}function U(t){document.querySelectorAll(t).forEach(n=>{n.addEventListener("click",s=>{s.preventDefault(),window.location.href="/"})})}function T(t,e,n=""){e.innerHTML=`<p>${n}</p>`,n==="Ładowanie"&&(e.innerHTML=`
        <p>${n}</p>
        <div class="newtons-cradle">
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        </div>`),t.classList.remove("hide"),t.classList.add("show","fade"),setTimeout(()=>{t.classList.remove("show","fade"),t.classList.add("hide")},3e3)}function X(){const t=a=>a<=9?`0${a}`:a;function e(a,g){a.forEach(u=>u.classList.remove("active")),a[g].classList.add("active"),console.log(`World ChangeActive ${g}`)}function n(a,g,u,S,M,_){let m=1,E=0,p=0,j=window.getComputedStyle(a).width;g.style.width=`${j.slice(0,j.length-2)*u.length}px`,S.textContent=t(u.length),e(M,0),u.forEach(k=>{E=k.clientWidth}),u[0].classList.add("focused");const A=(k,x)=>{u[x-1].classList.add("focused"),_.textContent=t(x),g.style.transform=`translateX(-${k}px)`};return{nextSlide:()=>(u[m-1].classList.remove("focused"),p>=E*(u.length-1)?(p=0,m=1):(p+=E,m+=1),A(p,m),m-1),prevSlide:()=>(u[m-1].classList.remove("focused"),p===0?(p=E*(u.length-1),m=u.length):(p-=E,m-=1),A(p,m),m-1),navToSlide:k=>(u[m-1].classList.remove("focused"),m=parseInt(k),p=(m-1)*E,A(p,m),m-1)}}async function s(a,g){const S=(await H(g)).works[a-1];S?(L.classList.add("fade"),L.innerHTML=`
                <h2>${S.header}</h2>
                <p>${S.location}</p>
                <p>${S.leadTime}</p>
                <p>${S.scopeOfWork}</p>
            `):L.innerHTML="No description available."}const o=a=>{e(b,a),s(a+1,"data/works.json"),L.classList.remove("fade")},c=document.querySelector(".works-slider-actions"),v=c.querySelector(".current"),w=c.querySelector(".total"),d=document.querySelector(".next-action"),r=document.querySelector(".prev-action"),i=document.querySelector(".works-slider"),l=document.querySelector(".works-slider-inner"),h=document.querySelectorAll(".works-slide"),f=document.querySelector(".slider-nav"),b=f.querySelectorAll(".block"),L=document.querySelector(".work-slide-descr"),y=n(i,l,h,w,b,v);s(1,"data/works.json"),d.addEventListener("click",a=>{a.preventDefault(),o(y.nextSlide())}),r.addEventListener("click",a=>{o(y.prevSlide())}),b.forEach(a=>{a.addEventListener("click",g=>{const u=g.target.getAttribute("data-to-slide");o(y.navToSlide(u))})});let I=0,N=0,C=!1;i.addEventListener("touchstart",a=>{I=a.touches[0].clientX,C=!0}),i.addEventListener("touchmove",a=>{C&&(N=a.touches[0].clientX)}),i.addEventListener("touchend",()=>{if(!C)return;const a=I-N;a>50?o(y.nextSlide()):a<-50&&o(y.prevSlide()),C=!1})}function R(){const t=document.querySelector("#services-list"),e=t.querySelectorAll(".service-block");async function n(){const{services:s}=await H("data/services.json");e.forEach((o,c)=>{o.innerHTML=`
                <h3 class="service-name"> ${s[c].name} </h3>
                <img class="service-icon" src=${s[c].img} alt=${s[c].name}>
                <p class="service-description"> ${s[c].description}</p>
            `})}n()}function V(){const t={loading:"Ładowanie",success:"Skontaktujemy się z tobą jak najszybciej",failure:"Coś poszło nie tak"},e=document.querySelector(".modal"),n=e.querySelector(".modal-content");emailjs.init("1mXxwMPcfi6IffBb9");const s="service_i2jy12d",o="template_wvdsbu8";document.getElementById("contact-form").addEventListener("submit",function(c){c.preventDefault(),T(e,n,t.loading),emailjs.sendForm(s,o,this).then(()=>{T(e,n,t.success),c.target.reset()},v=>{T(e,n,t.failure)})})}function D(){const t=document.querySelector("nav"),e=document.querySelector("#menuBar-icon"),n=document.querySelector(".logo-container"),s=document.querySelector("nav ul");document.querySelector("#services .services-action button"),window.addEventListener("click",d=>{const r=d.target;window.innerWidth<=768&&(e.contains(r)?t.classList.contains("column")?c():o():s.contains(r)?r.tagName==="LI"&&c():c())});function o(){t.classList.add("column"),e.classList.add("hide"),s.classList.add("show"),n.classList.add("hide")}function c(){t.classList.remove("column"),e.classList.remove("hide"),s.classList.remove("show"),n.classList.remove("hide")}services.length>0&&services.forEach(d=>{d.addEventListener("click",r=>{r.preventDefault();const i=d.getAttribute("data-target");i&&(window.location.href=`pricelist.html?service=${encodeURIComponent(i)}`)})});const w=new URLSearchParams(window.location.search).get("section");w&&P(w)}async function z(){async function t(){const d=document.querySelector("#pricelistNav");if(d)try{const r=await fetch("data/pricelist.json");if(!r.ok)throw new Error("Error in try");const{pricelist:i}=await r.json(),l=document.createElement("ul");l.classList.add("categotyList"),i.forEach(h=>{const f=document.createElement("li");f.setAttribute("data-target",`${h.id}`),f.textContent=h.category,f.classList.add("category"),l.appendChild(f)}),d.appendChild(l),q("#pricelistNav li")}catch{console.log("Error")}}t();async function e(){const d=document.querySelector("#pricelistNav-select");if(d)try{const r=await fetch("data/pricelist.json");if(!r.ok)throw new Error("Error in try");const{pricelist:i}=await r.json(),l=document.createElement("select");l.setAttribute("name","categoryList"),l.setAttribute("id","categoryList"),i.forEach(h=>{const f=document.createElement("option");f.setAttribute("value",h.id),f.textContent=h.category,l.appendChild(f)}),d.appendChild(l),q("#pricelistNav-select select")}catch{console.log("Error")}}e();class n{constructor(r,i,l,h){this.id=r,this.name=i,this.price_net=l,this.unit=h}addItem(){const r=document.createElement("tr");return r.innerHTML=`
            <td class="column-category-lp">${this.id}</td>
            <td class="column-category-name">${this.name}</td>
            <td class="column-category-price">${this.price_net}</td>
            <td class="column-category-unit">${this.unit}</td>`,r}}class s{constructor(r,i,l){this.id=r,this.category=i,this.items=l}addCategoryHeader(){const r=document.querySelector("#pricelist"),i=document.createElement("table"),l=document.createElement("thead");l.innerHTML=`<tr>
                <th>Lp.</th>
                <th>${this.category}</th>
                <th>Cena netto (PLN)</th>
                <th>j.m.</th>
            </tr>`,i.appendChild(l),i.setAttribute("id",`${this.id}`);const h=document.createElement("tbody");this.items.forEach(({item_id:f,name:b,price_net:L,unit:y})=>{const I=new n(f,b,L,y);h.appendChild(I.addItem())}),i.appendChild(h),r.appendChild(i)}}const o=await fetch("data/pricelist.json");o.ok?(await o.json()).pricelist.forEach(({id:r,category:i,items:l})=>{new s(r,i,l).addCategoryHeader()}):console.error("Błąd w pobieraniu danych:",o.status),U("header nav ul li");const v=new URLSearchParams(window.location.search).get("service");v&&P(v);const w=document.querySelectorAll("nav ul li");w.length>0&&w.forEach(d=>{d.addEventListener("click",r=>{r.preventDefault();const i=d.getAttribute("data-target");console.log(i),i&&(window.location.href=`./?section=${encodeURIComponent(i)}`)})})}const F=document.querySelectorAll(".service-block");document.querySelector("#services-list");const K=document.querySelectorAll(".about-us-offer ul li"),Z=document.querySelectorAll(".slogan"),G=document.querySelectorAll(".about-us-image-block img"),J=document.querySelector(".home-content .home-descr p"),Q=document.querySelector(".home-content .home-action button"),Y=t=>{const e=t.getBoundingClientRect();return e.top>=0&&e.bottom<=window.innerHeight},B=(t,e="in-view")=>{t.classList.add(e)},ee=(t,e)=>{setTimeout(()=>{B(t),console.log(`Item at index ${e}: ${t.textContent||t.innerText}`)},e*100)},$=t=>{t.forEach((e,n)=>{Y(e)&&!e.classList.contains("in-view")&&ee(e,n)})},te=()=>{window.addEventListener("scroll",()=>{$(F),$(K),$(Z),$(G)})};B(J);setTimeout(()=>{B(Q)},1e3);window.addEventListener("load",()=>{window.location.pathname.endsWith("/")||window.location.pathname.endsWith("index.html")?(te(),R(),X(),V(),q("nav ul li"),q(".about-us-action"),q(".home-action button"),D()):window.location.pathname.endsWith("pricelist.html")&&(z(),D())});
