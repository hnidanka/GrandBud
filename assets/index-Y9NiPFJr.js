(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function i(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=i(t);fetch(t.href,n)}})();async function j(o){try{return await(await fetch(o)).json()}catch(e){return console.error("Error fetching data:",e.message),null}}function q(o){const e=document.querySelectorAll(o);console.log(e),e.forEach(i=>{i.addEventListener("click",s=>{s.preventDefault();const t=i.getAttribute("data-target"),n=document.getElementById(t);n&&n.scrollIntoView({behavior:"smooth",block:"start"})})})}function H(o){if(console.log(o),o){const e=document.getElementById(o);console.log(e),e&&e.scrollIntoView({behavior:"smooth",block:"start"})}}function W(o){document.querySelectorAll(o).forEach(i=>{i.addEventListener("click",s=>{s.preventDefault(),window.location.href="index.html"})})}function I(o,e,i=""){e.innerHTML=`<p>${i}</p>`,o.classList.remove("hide"),o.classList.add("show","fade"),setTimeout(()=>{o.classList.remove("show","fade"),o.classList.add("hide")},3e3)}function M(){const o=r=>r<=9?`0${r}`:r;function e(r,g){r.forEach(d=>d.classList.remove("active")),r[g].classList.add("active"),console.log(`World ChangeActive ${g}`)}function i(r,g,d,w,P,B){let m=1,S=0,v=0,x=window.getComputedStyle(r).width;g.style.width=`${x.slice(0,x.length-2)*d.length}px`,w.textContent=o(d.length),e(P,0),d.forEach(E=>{S=E.clientWidth}),d[0].classList.add("focused");const $=(E,D)=>{d[D-1].classList.add("focused"),B.textContent=o(D),g.style.transform=`translateX(-${E}px)`};return{nextSlide:()=>(d[m-1].classList.remove("focused"),v>=S*(d.length-1)?(v=0,m=1):(v+=S,m+=1),$(v,m),m-1),prevSlide:()=>(d[m-1].classList.remove("focused"),v===0?(v=S*(d.length-1),m=d.length):(v-=S,m-=1),$(v,m),m-1),navToSlide:E=>(d[m-1].classList.remove("focused"),m=parseInt(E),v=(m-1)*S,$(v,m),m-1)}}async function s(r,g){const w=(await j(g)).works[r-1];w?k.innerHTML=`
                <h2>${w.header}</h2>
                <p>${w.location}</p>
                <p>${w.leadTime}</p>
                <p>${w.scopeOfWork}</p>
            `:k.innerHTML="No description available."}const t=r=>{e(L,r),s(r+1,"data/works.json")},n=document.querySelector(".works-slider-actions"),u=n.querySelector(".current"),h=n.querySelector(".total"),c=document.querySelector(".next-action"),l=document.querySelector(".prev-action"),a=document.querySelector(".works-slider"),f=document.querySelector(".works-slider-inner"),p=document.querySelectorAll(".works-slide"),C=document.querySelector(".slider-nav"),L=C.querySelectorAll(".block"),k=document.querySelector(".work-slide-descr"),y=i(a,f,p,h,L,u);s(1,"data/works.json"),c.addEventListener("click",r=>{r.preventDefault(),t(y.nextSlide())}),l.addEventListener("click",r=>{t(y.prevSlide())}),L.forEach(r=>{r.addEventListener("click",g=>{const d=g.target.getAttribute("data-to-slide");t(y.navToSlide(d))})});let A=0,N=0,b=!1;a.addEventListener("touchstart",r=>{A=r.touches[0].clientX,b=!0}),a.addEventListener("touchmove",r=>{b&&(N=r.touches[0].clientX)}),a.addEventListener("touchend",()=>{if(!b)return;const r=A-N;r>50?t(y.nextSlide()):r<-50&&t(y.prevSlide()),b=!1})}function O(){const o=document.querySelector("#services-list"),e=o.querySelectorAll(".service-block");async function i(){const{services:s}=await j("data/services.json");e.forEach((t,n)=>{t.innerHTML=`
                <h3 class="service-name"> ${s[n].name} </h3>
                <img class="service-icon" src=${s[n].img}>
                <p class="service-description"> ${s[n].description}</p>
            `})}i()}function X(){const o={loading:"Ładowanie",success:"Skontaktujemy się z tobą jak najszybciej",failure:"Coś poszło nie tak"},e=document.querySelector(".modal"),i=e.querySelector(".modal-content");emailjs.init("1mXxwMPcfi6IffBb9"),document.getElementById("contact-form").addEventListener("submit",function(s){s.preventDefault(),I(e,i,o.loading),emailjs.sendForm("service_i2jy12d","template_wvdsbu8",this).then(()=>{I(e,i,o.success),s.target.reset()},t=>{I(e,i,o.failure)})})}function T(){const o=document.querySelector("#menuBar-icon"),e=document.querySelector("nav ul"),i=document.querySelector(".toolbar"),s=document.querySelector(".logo-container");o.addEventListener("click",u=>{u.preventDefault(),e.classList.toggle("show"),e.classList.toggle("column"),i.classList.toggle("column"),s.classList.toggle("column")}),document.querySelector("#services .services-action button").addEventListener("click",u=>{u.preventDefault();const h=window.location.hostname==="hnidanka.github.io"?"/nazwa-repozytorium":"";window.location.href=`${h}/pricelist.html`,window.location.href="/pricelist.html",console.log("clicke")}),document.querySelectorAll(".service-block").forEach(u=>{u.addEventListener("click",h=>{h.preventDefault();const c=u.getAttribute("data-target");console.log(c),window.location.href=`pricelist.html?service=${c}`})})}async function z(){async function o(){const h=document.querySelector("#pricelistNav");if(h)try{const c=await fetch("data/pricelist.json");if(!c.ok)throw new Error("Error in try");const{pricelist:l}=await c.json(),a=document.createElement("ul");a.classList.add("categotyList"),l.forEach(f=>{const p=document.createElement("li");p.setAttribute("data-target",`${f.id}`),p.textContent=f.category,p.classList.add("category"),a.appendChild(p)}),h.appendChild(a),q("#pricelistNav li")}catch{console.log("Error")}}o();async function e(){const h=document.querySelector("#pricelistNav-select");if(h)try{const c=await fetch("data/pricelist.json");if(!c.ok)throw new Error("Error in try");const{pricelist:l}=await c.json(),a=document.createElement("select");a.setAttribute("name","categoryList"),a.setAttribute("id","categoryList"),l.forEach(f=>{const p=document.createElement("option");p.setAttribute("value",f.id),p.textContent=f.category,a.appendChild(p)}),h.appendChild(a)}catch{console.log("Error")}}e();class i{constructor(c,l,a,f){this.id=c,this.name=l,this.price_net=a,this.unit=f}addItem(){const c=document.createElement("tr");return c.innerHTML=`
            <td class="column-category-lp">${this.id}</td>
            <td class="column-category-name">${this.name}</td>
            <td class="column-category-price">${this.price_net}</td>
            <td class="column-category-unit">${this.unit}</td>`,c}}class s{constructor(c,l,a){this.id=c,this.category=l,this.items=a}addCategoryHeader(){const c=document.querySelector("#pricelist"),l=document.createElement("table"),a=document.createElement("thead");a.innerHTML=`<tr>
                <th>Lp.</th>
                <th>${this.category}</th>
                <th>Cena netto (PLN)</th>
                <th>j.m.</th>
            </tr>`,l.appendChild(a),l.setAttribute("id",`${this.id}`);const f=document.createElement("tbody");this.items.forEach(({item_id:p,name:C,price_net:L,unit:k})=>{const y=new i(p,C,L,k);f.appendChild(y.addItem())}),l.appendChild(f),c.appendChild(l)}}const t=await j("/data/pricelist.json");t&&t.pricelist.forEach(({id:h,category:c,items:l})=>{new s(h,c,l).addCategoryHeader()}),W("header nav ul li");const u=new URLSearchParams(window.location.search).get("service");u&&H(u)}window.addEventListener("DOMContentLoaded",()=>{window.location.pathname.endsWith("/")||window.location.pathname.endsWith("index.html")?(O(),M(),X(),q("nav ul li"),q(".about-us-action"),q(".home-action button"),T()):window.location.pathname.endsWith("pricelist.html")&&(z(),T())});
