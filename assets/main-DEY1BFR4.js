(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();async function x(t){try{return await(await fetch(t)).json()}catch(e){return console.error("Error fetching data:",e.message),null}}function q(t){const e=document.querySelectorAll(t);e.forEach(i=>{i.addEventListener(i.tagName==="SELECT"?"change":"click",r=>{r.preventDefault();const n=i.tagName==="SELECT"?r.target.value:i.getAttribute("data-target");W(n),e.forEach(s=>s.classList.remove("active")),r.target.classList.add("active")})})}function W(t){if(t==="pricelist"){window.location.href="pricelist.html";return}const e=document.getElementById(t);e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),_())}function _(){const t=document.querySelector("#menuBar-icon"),e=document.querySelector(".logo-container"),i=document.querySelector("nav ul"),r=document.querySelector("nav");t&&e&&r&&(t.classList.remove("full-width"),i.classList.remove("show","column"),e.classList.remove("hide"),r.classList.remove("column"))}function H(t){if(console.log(t),t){const e=document.getElementById(t);console.log(e),e&&e.scrollIntoView({behavior:"smooth",block:"start"})}}function D(t){document.querySelectorAll(t).forEach(i=>{i.addEventListener("click",r=>{r.preventDefault(),t==="#services .services-action button"?window.location.href="pricelist.html":window.location.href="/"})})}function T(t,e,i=""){e.innerHTML=`<p>${i}</p>`,i==="Ładowanie"&&(e.innerHTML=`
        <p>${i}</p>
        <div class="newtons-cradle">
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        </div>`),t.classList.remove("hide"),t.classList.add("show","fade"),setTimeout(()=>{t.classList.remove("show","fade"),t.classList.add("hide")},3e3)}function O(){const t=l=>l<=9?`0${l}`:l;function e(l,y){l.forEach(u=>u.classList.remove("active")),l[y].classList.add("active")}function i(l,y,u,S,P,M){let m=1,k=0,p=0,N=window.getComputedStyle(l).width;y.style.width=`${N.slice(0,N.length-2)*u.length}px`,S.textContent=t(u.length),e(P,0),u.forEach(b=>{k=b.clientWidth}),u[0].classList.add("focused");const A=(b,$)=>{u[$-1].classList.add("focused"),M.textContent=t($),y.style.transform=`translateX(-${b}px)`};return{nextSlide:()=>(u[m-1].classList.remove("focused"),p>=k*(u.length-1)?(p=0,m=1):(p+=k,m+=1),A(p,m),m-1),prevSlide:()=>(u[m-1].classList.remove("focused"),p===0?(p=k*(u.length-1),m=u.length):(p-=k,m-=1),A(p,m),m-1),navToSlide:b=>(u[m-1].classList.remove("focused"),m=parseInt(b),p=(m-1)*k,A(p,m),m-1)}}async function r(l,y){const S=(await x(y)).works[l-1];S?(E.classList.add("fade"),E.innerHTML=`
                <h2>${S.header}</h2>
                <p>${S.location}</p>
                <p>${S.leadTime}</p>
                <p>${S.scopeOfWork}</p>
            `):E.innerHTML="No description available."}const n=l=>{e(v,l),r(l+1,"data/works.json"),E.classList.remove("fade")},s=document.querySelector(".works-slider-actions"),h=s.querySelector(".current"),w=s.querySelector(".total"),g=document.querySelector(".next-action"),d=document.querySelector(".prev-action"),c=document.querySelector(".works-slider"),a=document.querySelector(".works-slider-inner"),o=document.querySelectorAll(".works-slide"),f=document.querySelector(".slider-nav"),v=f.querySelectorAll(".block"),E=document.querySelector(".work-slide-descr"),L=i(c,a,o,w,v,h);r(1,"data/works.json"),g.addEventListener("click",l=>{l.preventDefault(),n(L.nextSlide())}),d.addEventListener("click",l=>{n(L.prevSlide())}),v.forEach(l=>{l.addEventListener("click",y=>{const u=y.target.getAttribute("data-to-slide");n(L.navToSlide(u))})});let I=0,C=0,B=!1;c.addEventListener("touchstart",l=>{I=l.touches[0].clientX,B=!0}),c.addEventListener("touchmove",l=>{B&&(C=l.touches[0].clientX)}),c.addEventListener("touchend",()=>{if(!B)return;const l=I-C;l>50?n(L.nextSlide()):l<-50&&n(L.prevSlide()),B=!1})}function U(){const t=document.querySelector("#services-list"),e=t.querySelectorAll(".service-block");async function i(){const{services:r}=await x("data/services.json");e.forEach((n,s)=>{n.innerHTML=`
                <h3 class="service-name"> ${r[s].name} </h3>
                <img class="service-icon" src=${r[s].img} alt=${r[s].name}>
                <p class="service-description"> ${r[s].description}</p>
            `})}i()}function X(){const t={loading:"Ładowanie",success:"Skontaktujemy się z tobą jak najszybciej",failure:"Coś poszło nie tak"},e=document.querySelector(".modal"),i=e.querySelector(".modal-content");emailjs.init(void 0);const r=void 0,n=void 0;document.getElementById("contact-form").addEventListener("submit",function(s){s.preventDefault(),T(e,i,t.loading),emailjs.sendForm(r,n,this).then(()=>{T(e,i,t.success),s.target.reset()},h=>{T(e,i,t.failure)})})}function j(){const t=document.querySelector("nav"),e=document.querySelector("#menuBar-icon"),i=document.querySelector(".logo-container"),r=document.querySelector("nav ul"),n=document.querySelector("#services .services-action button");window.addEventListener("click",d=>{const c=d.target;window.innerWidth<=768&&(e.contains(c)?t.classList.contains("column")?h():s():r.contains(c)?c.tagName==="LI"&&h():h())});function s(){t.classList.add("column"),e.classList.add("hide"),r.classList.add("show"),i.classList.add("hide")}function h(){t.classList.remove("column"),e.classList.remove("hide"),r.classList.remove("show"),i.classList.remove("hide")}window.location.pathname=="/"&&n.addEventListener("click",()=>{D("#services .services-action button")});const g=new URLSearchParams(window.location.search).get("section");g&&H(g)}async function R(){document.querySelector(".scrollBtn").addEventListener("click",d=>{window.scrollTo({top:0,behavior:"smooth"})});async function e(){const d=document.querySelector("#pricelistNav");if(d)try{const c=await fetch("data/pricelist.json");if(!c.ok)throw new Error("Error in try");const{pricelist:a}=await c.json(),o=document.createElement("ul");o.classList.add("categotyList"),a.forEach(f=>{const v=document.createElement("li");v.setAttribute("data-target",`${f.id}`),v.textContent=f.category,v.classList.add("category"),o.appendChild(v)}),d.appendChild(o),q("#pricelistNav li")}catch{console.log("Error")}}e();async function i(){const d=document.querySelector("#pricelistNav-select");if(d)try{const c=await fetch("data/pricelist.json");if(!c.ok)throw new Error("Error in try");const{pricelist:a}=await c.json(),o=document.createElement("select");o.setAttribute("name","categoryList"),o.setAttribute("id","categoryList"),a.forEach(f=>{const v=document.createElement("option");v.setAttribute("value",f.id),v.textContent=f.category,o.appendChild(v)}),d.appendChild(o),q("#pricelistNav-select select")}catch{console.log("Error")}}i();class r{constructor(c,a,o,f){this.id=c,this.name=a,this.price_net=o,this.unit=f}addItem(){const c=document.createElement("tr");return c.innerHTML=`
            <td class="column-category-lp">${this.id}</td>
            <td class="column-category-name">${this.name}</td>
            <td class="column-category-price">${this.price_net}</td>
            <td class="column-category-unit">${this.unit}</td>`,c}}class n{constructor(c,a,o){this.id=c,this.category=a,this.items=o}addCategoryHeader(){const c=document.querySelector("#pricelist"),a=document.createElement("table"),o=document.createElement("thead");o.innerHTML=`<tr>
                <th>Lp.</th>
                <th>${this.category}</th>
                <th>Cena netto (PLN)</th>
                <th>j.m.</th>
            </tr>`,a.appendChild(o),a.setAttribute("id",`${this.id}`);const f=document.createElement("tbody");this.items.forEach(({item_id:v,name:E,price_net:L,unit:I})=>{const C=new r(v,E,L,I);f.appendChild(C.addItem())}),a.appendChild(f),c.appendChild(a)}}const s=await fetch("data/pricelist.json");s.ok?(await s.json()).pricelist.forEach(({id:c,category:a,items:o})=>{new n(c,a,o).addCategoryHeader()}):console.error("Błąd w pobieraniu danych:",s.status),D("header nav ul li");const w=new URLSearchParams(window.location.search).get("service");w&&H(w);const g=document.querySelectorAll("nav ul li");g.length>0&&g.forEach(d=>{d.addEventListener("click",c=>{c.preventDefault();const a=d.getAttribute("data-target");console.log(a),a&&(window.location.href=`./?section=${encodeURIComponent(a)}`)})})}function V(){const t=document.querySelectorAll(".service-block");document.querySelector("#services-list");const e=document.querySelectorAll(".about-us-offer ul li"),i=document.querySelectorAll(".slogan"),r=document.querySelectorAll(".about-us-image-block img"),n=document.querySelector(".home-content .home-descr p"),s=document.querySelector(".home-content .home-action button"),h=a=>{const o=a.getBoundingClientRect();return o.top>=0&&o.bottom<=window.innerHeight},w=(a,o="in-view")=>{a.classList.add(o)},g=(a,o)=>{setTimeout(()=>{w(a)},o*100)},d=a=>{window.innerWidth>768?a.forEach((o,f)=>{h(o)&&!o.classList.contains("in-view")&&g(o,f)}):a.forEach(o=>{h(o)&&!o.classList.contains("in-view")&&o.classList.add("in-view")})},c=()=>{window.addEventListener("scroll",()=>{d(t),d(e),d(i),d(r)})};w(n),setTimeout(()=>{w(s)},1e3),c()}window.addEventListener("load",()=>{window.location.pathname.endsWith("/")||window.location.pathname.endsWith("index.html")?(V(),U(),O(),X(),q("nav ul li"),q(".about-us-action"),q(".home-action button"),j()):window.location.pathname.endsWith("pricelist.html")&&(R(),j())});
