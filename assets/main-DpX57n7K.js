(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const h of r.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();async function D(t){try{return await(await fetch(t)).json()}catch(e){return console.error("Error fetching data:",e.message),null}}function k(t){document.querySelectorAll(t).forEach(n=>{n.addEventListener(n.tagName==="SELECT"?"change":"click",i=>{i.preventDefault();const o=n.tagName==="SELECT"?i.target.value:n.getAttribute("data-target");P(o)})})}function P(t){if(t==="pricelist"){window.location.href="pricelist.html";return}const e=document.getElementById(t);e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),M())}function M(){const t=document.querySelector("#menuBar-icon"),e=document.querySelector(".logo-container"),n=document.querySelector("nav ul"),i=document.querySelector("nav");t&&e&&i&&(t.classList.remove("full-width"),n.classList.remove("show","column"),e.classList.remove("hide"),i.classList.remove("column"))}function _(t){if(console.log(t),t){const e=document.getElementById(t);console.log(e),e&&e.scrollIntoView({behavior:"smooth",block:"start"})}}function W(t){document.querySelectorAll(t).forEach(n=>{n.addEventListener("click",i=>{i.preventDefault(),window.location.href="/"})})}function $(t,e,n=""){e.innerHTML=`<p>${n}</p>`,n==="Ładowanie"&&(e.innerHTML=`
        <p>${n}</p>
        <div class="newtons-cradle">
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        </div>`),t.classList.remove("hide"),t.classList.add("show","fade"),setTimeout(()=>{t.classList.remove("show","fade"),t.classList.add("hide")},3e3)}function O(){const t=s=>s<=9?`0${s}`:s;function e(s,g){s.forEach(u=>u.classList.remove("active")),s[g].classList.add("active"),console.log(`World ChangeActive ${g}`)}function n(s,g,u,w,B,H){let m=1,S=0,v=0,A=window.getComputedStyle(s).width;g.style.width=`${A.slice(0,A.length-2)*u.length}px`,w.textContent=t(u.length),e(B,0),u.forEach(E=>{S=E.clientWidth}),u[0].classList.add("focused");const I=(E,T)=>{u[T-1].classList.add("focused"),H.textContent=t(T),g.style.transform=`translateX(-${E}px)`};return{nextSlide:()=>(u[m-1].classList.remove("focused"),v>=S*(u.length-1)?(v=0,m=1):(v+=S,m+=1),I(v,m),m-1),prevSlide:()=>(u[m-1].classList.remove("focused"),v===0?(v=S*(u.length-1),m=u.length):(v-=S,m-=1),I(v,m),m-1),navToSlide:E=>(u[m-1].classList.remove("focused"),m=parseInt(E),v=(m-1)*S,I(v,m),m-1)}}async function i(s,g){const w=(await D(g)).works[s-1];w?b.innerHTML=`
                <h2>${w.header}</h2>
                <p>${w.location}</p>
                <p>${w.leadTime}</p>
                <p>${w.scopeOfWork}</p>
            `:b.innerHTML="No description available."}const o=s=>{e(L,s),i(s+1,"data/works.json")},r=document.querySelector(".works-slider-actions"),h=r.querySelector(".current"),c=r.querySelector(".total"),a=document.querySelector(".next-action"),d=document.querySelector(".prev-action"),l=document.querySelector(".works-slider"),f=document.querySelector(".works-slider-inner"),p=document.querySelectorAll(".works-slide"),C=document.querySelector(".slider-nav"),L=C.querySelectorAll(".block"),b=document.querySelector(".work-slide-descr"),y=n(l,f,p,c,L,h);i(1,"data/works.json"),a.addEventListener("click",s=>{s.preventDefault(),o(y.nextSlide())}),d.addEventListener("click",s=>{o(y.prevSlide())}),L.forEach(s=>{s.addEventListener("click",g=>{const u=g.target.getAttribute("data-to-slide");o(y.navToSlide(u))})});let N=0,j=0,q=!1;l.addEventListener("touchstart",s=>{N=s.touches[0].clientX,q=!0}),l.addEventListener("touchmove",s=>{q&&(j=s.touches[0].clientX)}),l.addEventListener("touchend",()=>{if(!q)return;const s=N-j;s>50?o(y.nextSlide()):s<-50&&o(y.prevSlide()),q=!1})}function X(){const t=document.querySelector("#services-list"),e=t.querySelectorAll(".service-block");async function n(){const{services:i}=await D("data/services.json");e.forEach((o,r)=>{o.innerHTML=`
                <h3 class="service-name"> ${i[r].name} </h3>
                <img class="service-icon" src=${i[r].img} alt=${i[r].name}>
                <p class="service-description"> ${i[r].description}</p>
            `})}n()}function z(){const t={loading:"Ładowanie",success:"Skontaktujemy się z tobą jak najszybciej",failure:"Coś poszło nie tak"},e=document.querySelector(".modal"),n=e.querySelector(".modal-content");emailjs.init("1mXxwMPcfi6IffBb9");const i="service_i2jy12d",o="template_wvdsbu8";document.getElementById("contact-form").addEventListener("submit",function(r){r.preventDefault(),$(e,n,t.loading),emailjs.sendForm(i,o,this).then(()=>{$(e,n,t.success),r.target.reset()},h=>{$(e,n,t.failure)})})}function x(){const t=document.querySelector("nav"),e=document.querySelector("#menuBar-icon"),n=document.querySelector(".logo-container"),i=document.querySelector("nav ul"),o=document.querySelector("#services .services-action button"),r=document.querySelectorAll(".service-block");e&&i&&n&&t&&(e.addEventListener("click",c=>{c.preventDefault(),h(!0)}),document.addEventListener("click",c=>{!t.contains(c.target)&&!e.contains(c.target)&&h(!1)}));function h(c){t.classList.toggle("column",c),e.classList.toggle("full-width",c),i.classList.toggle("show",c),n.classList.toggle("hide",c)}o&&o.addEventListener("click",c=>{c.preventDefault(),window.location.href="pricelist.html"}),r.length>0&&r.forEach(c=>{c.addEventListener("click",a=>{a.preventDefault();const d=c.getAttribute("data-target");d&&(window.location.href=`pricelist.html?service=${encodeURIComponent(d)}`)})})}async function F(){async function t(){const c=document.querySelector("#pricelistNav");if(c)try{const a=await fetch("data/pricelist.json");if(!a.ok)throw new Error("Error in try");const{pricelist:d}=await a.json(),l=document.createElement("ul");l.classList.add("categotyList"),d.forEach(f=>{const p=document.createElement("li");p.setAttribute("data-target",`${f.id}`),p.textContent=f.category,p.classList.add("category"),l.appendChild(p)}),c.appendChild(l),k("#pricelistNav li")}catch{console.log("Error")}}t();async function e(){const c=document.querySelector("#pricelistNav-select");if(c)try{const a=await fetch("data/pricelist.json");if(!a.ok)throw new Error("Error in try");const{pricelist:d}=await a.json(),l=document.createElement("select");l.setAttribute("name","categoryList"),l.setAttribute("id","categoryList"),d.forEach(f=>{const p=document.createElement("option");p.setAttribute("value",f.id),p.textContent=f.category,l.appendChild(p)}),c.appendChild(l),k("#pricelistNav-select select")}catch{console.log("Error")}}e();class n{constructor(a,d,l,f){this.id=a,this.name=d,this.price_net=l,this.unit=f}addItem(){const a=document.createElement("tr");return a.innerHTML=`
            <td class="column-category-lp">${this.id}</td>
            <td class="column-category-name">${this.name}</td>
            <td class="column-category-price">${this.price_net}</td>
            <td class="column-category-unit">${this.unit}</td>`,a}}class i{constructor(a,d,l){this.id=a,this.category=d,this.items=l}addCategoryHeader(){const a=document.querySelector("#pricelist"),d=document.createElement("table"),l=document.createElement("thead");l.innerHTML=`<tr>
                <th>Lp.</th>
                <th>${this.category}</th>
                <th>Cena netto (PLN)</th>
                <th>j.m.</th>
            </tr>`,d.appendChild(l),d.setAttribute("id",`${this.id}`);const f=document.createElement("tbody");this.items.forEach(({item_id:p,name:C,price_net:L,unit:b})=>{const y=new n(p,C,L,b);f.appendChild(y.addItem())}),d.appendChild(f),a.appendChild(d)}}const o=await fetch("data/pricelist.json");o.ok?(await o.json()).pricelist.forEach(({id:a,category:d,items:l})=>{new i(a,d,l).addCategoryHeader()}):console.error("Błąd w pobieraniu danych:",o.status),W("header nav ul li");const h=new URLSearchParams(window.location.search).get("service");h&&_(h)}window.addEventListener("DOMContentLoaded",()=>{window.location.pathname.endsWith("/")||window.location.pathname.endsWith("index.html")?(X(),O(),z(),k("nav ul li"),k(".about-us-action"),k(".home-action button"),x()):window.location.pathname.endsWith("pricelist.html")&&(F(),x())});
