(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const v of n.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&c(v)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();async function P(t){try{return await(await fetch(t)).json()}catch(e){return console.error("Error fetching data:",e.message),null}}function q(t){const e=document.querySelectorAll(t);e.forEach(s=>{s.addEventListener(s.tagName==="SELECT"?"change":"click",c=>{c.preventDefault();const o=s.tagName==="SELECT"?c.target.value:s.getAttribute("data-target");_(o),e.forEach(n=>n.classList.remove("active")),c.target.classList.add("active")})})}function _(t){if(t==="pricelist"){window.location.href="pricelist.html";return}const e=document.getElementById(t);e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),W())}function W(){const t=document.querySelector("#menuBar-icon"),e=document.querySelector(".logo-container"),s=document.querySelector("nav ul"),c=document.querySelector("nav");t&&e&&c&&(t.classList.remove("full-width"),s.classList.remove("show","column"),e.classList.remove("hide"),c.classList.remove("column"))}function H(t){if(console.log(t),t){const e=document.getElementById(t);console.log(e),e&&e.scrollIntoView({behavior:"smooth",block:"start"})}}function T(t){const e="/GrandBud/",s=document.querySelectorAll(t);console.log(s),s.forEach(c=>{c.addEventListener("click",o=>{o.preventDefault(),t==="#services .services-action button"?(window.location.href=`${e}pricelist.html`,console.log(e),console.log("cliecked")):window.location.href=`${e}`})})}function $(t,e,s=""){e.innerHTML=`<p>${s}</p>`,s==="Ładowanie"&&(e.innerHTML=`
        <p>${s}</p>
        <div class="newtons-cradle">
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        </div>`),t.classList.remove("hide"),t.classList.add("show","fade"),setTimeout(()=>{t.classList.remove("show","fade"),t.classList.add("hide")},3e3)}function O(){const t=l=>l<=9?`0${l}`:l;function e(l,g){l.forEach(u=>u.classList.remove("active")),l[g].classList.add("active")}function s(l,g,u,L,D,M){let h=1,E=0,w=0,N=window.getComputedStyle(l).width;g.style.width=`${N.slice(0,N.length-2)*u.length}px`,L.textContent=t(u.length),e(D,0),u.forEach(k=>{E=k.clientWidth}),u[0].classList.add("focused");const B=(k,j)=>{u[j-1].classList.add("focused"),M.textContent=t(j),g.style.transform=`translateX(-${k}px)`};return{nextSlide:()=>(u[h-1].classList.remove("focused"),w>=E*(u.length-1)?(w=0,h=1):(w+=E,h+=1),B(w,h),h-1),prevSlide:()=>(u[h-1].classList.remove("focused"),w===0?(w=E*(u.length-1),h=u.length):(w-=E,h-=1),B(w,h),h-1),navToSlide:k=>(u[h-1].classList.remove("focused"),h=parseInt(k),w=(h-1)*E,B(w,h),h-1)}}async function c(l,g){const L=(await P(g)).works[l-1];L?(S.classList.add("fade"),S.innerHTML=`
                <h2>${L.header}</h2>
                <p>${L.location}</p>
                <p>${L.leadTime}</p>
                <p>${L.scopeOfWork}</p>
            `):S.innerHTML="No description available."}const o=l=>{e(b,l),c(l+1,"data/works.json"),S.classList.remove("fade")},n=document.querySelector(".works-slider-actions"),v=n.querySelector(".current"),p=n.querySelector(".total"),m=document.querySelector(".next-action"),r=document.querySelector(".prev-action"),d=document.querySelector(".works-slider"),i=document.querySelector(".works-slider-inner"),a=document.querySelectorAll(".works-slide"),f=document.querySelector(".slider-nav"),b=f.querySelectorAll(".block"),S=document.querySelector(".work-slide-descr"),y=s(d,i,a,p,b,v);c(1,"data/works.json"),m.addEventListener("click",l=>{l.preventDefault(),o(y.nextSlide())}),r.addEventListener("click",l=>{o(y.prevSlide())}),b.forEach(l=>{l.addEventListener("click",g=>{const u=g.target.getAttribute("data-to-slide");o(y.navToSlide(u))})});let C=0,A=0,I=!1;d.addEventListener("touchstart",l=>{C=l.touches[0].clientX,I=!0}),d.addEventListener("touchmove",l=>{I&&(A=l.touches[0].clientX)}),d.addEventListener("touchend",()=>{if(!I)return;const l=C-A;l>50?o(y.nextSlide()):l<-50&&o(y.prevSlide()),I=!1})}function X(){const t=document.querySelector("#services-list"),e=t.querySelectorAll(".service-block");async function s(){const{services:c}=await P("data/services.json");e.forEach((o,n)=>{o.innerHTML=`
                <h3 class="service-name"> ${c[n].name} </h3>
                <img class="service-icon" src=${c[n].img} alt=${c[n].name}>
                <p class="service-description"> ${c[n].description}</p>
            `})}s()}function U(){const t={loading:"Ładowanie",success:"Skontaktujemy się z tobą jak najszybciej",failure:"Coś poszło nie tak"},e=document.querySelector(".modal"),s=e.querySelector(".modal-content");emailjs.init("1mXxwMPcfi6IffBb9");const c="service_i2jy12d",o="template_wvdsbu8";document.getElementById("contact-form").addEventListener("submit",function(n){n.preventDefault(),$(e,s,t.loading),emailjs.sendForm(c,o,this).then(()=>{$(e,s,t.success),n.target.reset()},v=>{$(e,s,t.failure)})})}function x(){const t=document.querySelector("nav"),e=document.querySelector("#menuBar-icon"),s=document.querySelector(".logo-container"),c=document.querySelector("nav ul");window.addEventListener("click",m=>{const r=m.target;window.innerWidth<=768&&(e.contains(r)?t.classList.contains("column")?n():o():c.contains(r)?r.tagName==="LI"&&n():n())});function o(){t.classList.add("column"),e.classList.add("hide"),c.classList.add("show"),s.classList.add("hide")}function n(){t.classList.remove("column"),e.classList.remove("hide"),c.classList.remove("show"),s.classList.remove("hide")}window.location.pathname=="/GrandBud/"&&T("#services .services-action button"),T("header nav .logo-container img");const p=new URLSearchParams(window.location.search).get("section");p&&H(p)}async function V(){const t=document.querySelector(".scrollBtn");t.addEventListener("click",m=>{window.scrollTo({top:0,behavior:"smooth"}),t.classList.remove("hover")});async function e(){const m=document.querySelector("#pricelistNav");if(m)try{const r=await fetch("data/pricelist.json");if(!r.ok)throw new Error("Error in try");const{pricelist:d}=await r.json(),i=document.createElement("ul");i.classList.add("categotyList"),d.forEach(a=>{const f=document.createElement("li");f.setAttribute("data-target",`${a.id}`),f.textContent=a.category,f.classList.add("category"),i.appendChild(f)}),m.appendChild(i),q("#pricelistNav li")}catch{console.log("Error")}}e();async function s(){const m=document.querySelector("#pricelistNav-select");if(m)try{const r=await fetch("data/pricelist.json");if(!r.ok)throw new Error("Error in try");const{pricelist:d}=await r.json(),i=document.createElement("select");i.setAttribute("name","categoryList"),i.setAttribute("id","categoryList"),d.forEach(a=>{const f=document.createElement("option");f.setAttribute("value",a.id),f.textContent=a.category,i.appendChild(f)}),m.appendChild(i),q("#pricelistNav-select select")}catch{console.log("Error")}}s();class c{constructor(r,d,i,a){this.id=r,this.name=d,this.price_net=i,this.unit=a}addItem(){const r=document.createElement("tr");return r.innerHTML=`
            <td class="column-category-lp">${this.id}</td>
            <td class="column-category-name">${this.name}</td>
            <td class="column-category-price">${this.price_net}</td>
            <td class="column-category-unit">${this.unit}</td>`,r}}class o{constructor(r,d,i){this.id=r,this.category=d,this.items=i}addCategoryHeader(){const r=document.querySelector("#pricelist"),d=document.createElement("table"),i=document.createElement("thead");i.innerHTML=`<tr>
                <th>Lp.</th>
                <th>${this.category}</th>
                <th>Cena netto (PLN)</th>
                <th>j.m.</th>
            </tr>`,d.appendChild(i),d.setAttribute("id",`${this.id}`);const a=document.createElement("tbody");this.items.forEach(({item_id:f,name:b,price_net:S,unit:y})=>{const C=new c(f,b,S,y);a.appendChild(C.addItem())}),d.appendChild(a),r.appendChild(d)}}const n=await fetch("data/pricelist.json");n.ok?(await n.json()).pricelist.forEach(({id:r,category:d,items:i})=>{new o(r,d,i).addCategoryHeader()}):console.error("Błąd w pobieraniu danych:",n.status),T(".come-back");const p=new URLSearchParams(window.location.search).get("service");p&&H(p)}function z(){const t=document.querySelectorAll(".service-block");document.querySelector("#services-list");const e=document.querySelectorAll(".about-us-offer ul li"),s=document.querySelectorAll(".slogan"),c=document.querySelectorAll(".about-us-image-block img"),o=document.querySelector(".home-content .home-descr p"),n=document.querySelector(".home-content .home-action button"),v=i=>{const a=i.getBoundingClientRect();return a.top>=0&&a.bottom<=window.innerHeight},p=(i,a="in-view")=>{i.classList.add(a)},m=(i,a)=>{setTimeout(()=>{p(i)},a*100)},r=i=>{window.innerWidth>768?i.forEach((a,f)=>{v(a)&&!a.classList.contains("in-view")&&m(a,f)}):i.forEach(a=>{v(a)&&!a.classList.contains("in-view")&&a.classList.add("in-view")})},d=()=>{window.addEventListener("scroll",()=>{r(t),r(e),r(s),r(c)})};p(o),setTimeout(()=>{p(n)},1e3),d()}window.addEventListener("load",()=>{window.location.pathname.endsWith("/")||window.location.pathname.endsWith("index.html")?(z(),X(),O(),U(),q("nav ul li"),q(".about-us-action"),q(".home-action button"),x()):window.location.pathname.endsWith("pricelist.html")&&(V(),x())});
