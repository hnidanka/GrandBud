(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(n){if(n.ep)return;n.ep=!0;const c=r(n);fetch(n.href,c)}})();async function D(o){try{return await(await fetch(o)).json()}catch(e){return console.error("Error fetching data:",e.message),null}}function b(o){document.querySelectorAll(o).forEach(r=>{r.addEventListener(r.tagName==="SELECT"?"change":"click",i=>{i.preventDefault();const n=r.tagName==="SELECT"?i.target.value:r.getAttribute("data-target");_(n)})})}function _(o){if(o==="pricelist"){window.location.href="pricelist.html";return}const e=document.getElementById(o);e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),M())}function M(){const o=document.querySelector("#menuBar-icon"),e=document.querySelector(".logo-container"),r=document.querySelector("nav ul"),i=document.querySelector("nav");o&&e&&i&&(o.classList.remove("full-width"),r.classList.remove("show","column"),e.classList.remove("hide"),i.classList.remove("column"))}function B(o){if(console.log(o),o){const e=document.getElementById(o);console.log(e),e&&e.scrollIntoView({behavior:"smooth",block:"start"})}}function W(o){document.querySelectorAll(o).forEach(r=>{r.addEventListener("click",i=>{i.preventDefault(),window.location.href="/"})})}function N(o,e,r=""){e.innerHTML=`<p>${r}</p>`,r==="Ładowanie"&&(e.innerHTML=`
        <p>${r}</p>
        <div class="newtons-cradle">
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        </div>`),o.classList.remove("hide"),o.classList.add("show","fade"),setTimeout(()=>{o.classList.remove("show","fade"),o.classList.add("hide")},3e3)}function O(){const o=a=>a<=9?`0${a}`:a;function e(a,g){a.forEach(u=>u.classList.remove("active")),a[g].classList.add("active"),console.log(`World ChangeActive ${g}`)}function r(a,g,u,y,P,H){let m=1,S=0,v=0,j=window.getComputedStyle(a).width;g.style.width=`${j.slice(0,j.length-2)*u.length}px`,y.textContent=o(u.length),e(P,0),u.forEach(k=>{S=k.clientWidth}),u[0].classList.add("focused");const $=(k,T)=>{u[T-1].classList.add("focused"),H.textContent=o(T),g.style.transform=`translateX(-${k}px)`};return{nextSlide:()=>(u[m-1].classList.remove("focused"),v>=S*(u.length-1)?(v=0,m=1):(v+=S,m+=1),$(v,m),m-1),prevSlide:()=>(u[m-1].classList.remove("focused"),v===0?(v=S*(u.length-1),m=u.length):(v-=S,m-=1),$(v,m),m-1),navToSlide:k=>(u[m-1].classList.remove("focused"),m=parseInt(k),v=(m-1)*S,$(v,m),m-1)}}async function i(a,g){const y=(await D(g)).works[a-1];y?q.innerHTML=`
                <h2>${y.header}</h2>
                <p>${y.location}</p>
                <p>${y.leadTime}</p>
                <p>${y.scopeOfWork}</p>
            `:q.innerHTML="No description available."}const n=a=>{e(E,a),i(a+1,"data/works.json")},c=document.querySelector(".works-slider-actions"),f=c.querySelector(".current"),L=c.querySelector(".total"),d=document.querySelector(".next-action"),t=document.querySelector(".prev-action"),s=document.querySelector(".works-slider"),l=document.querySelector(".works-slider-inner"),h=document.querySelectorAll(".works-slide"),p=document.querySelector(".slider-nav"),E=p.querySelectorAll(".block"),q=document.querySelector(".work-slide-descr"),w=r(s,l,h,L,E,f);i(1,"data/works.json"),d.addEventListener("click",a=>{a.preventDefault(),n(w.nextSlide())}),t.addEventListener("click",a=>{n(w.prevSlide())}),E.forEach(a=>{a.addEventListener("click",g=>{const u=g.target.getAttribute("data-to-slide");n(w.navToSlide(u))})});let C=0,A=0,I=!1;s.addEventListener("touchstart",a=>{C=a.touches[0].clientX,I=!0}),s.addEventListener("touchmove",a=>{I&&(A=a.touches[0].clientX)}),s.addEventListener("touchend",()=>{if(!I)return;const a=C-A;a>50?n(w.nextSlide()):a<-50&&n(w.prevSlide()),I=!1})}function X(){const o=document.querySelector("#services-list"),e=o.querySelectorAll(".service-block");async function r(){const{services:i}=await D("data/services.json");e.forEach((n,c)=>{n.innerHTML=`
                <h3 class="service-name"> ${i[c].name} </h3>
                <img class="service-icon" src=${i[c].img} alt=${i[c].name}>
                <p class="service-description"> ${i[c].description}</p>
            `})}r()}function U(){const o={loading:"Ładowanie",success:"Skontaktujemy się z tobą jak najszybciej",failure:"Coś poszło nie tak"},e=document.querySelector(".modal"),r=e.querySelector(".modal-content");emailjs.init("1mXxwMPcfi6IffBb9");const i="service_i2jy12d",n="template_wvdsbu8";document.getElementById("contact-form").addEventListener("submit",function(c){c.preventDefault(),N(e,r,o.loading),emailjs.sendForm(i,n,this).then(()=>{N(e,r,o.success),c.target.reset()},f=>{N(e,r,o.failure)})})}function x(){const o=document.querySelector("nav"),e=document.querySelector("#menuBar-icon"),r=document.querySelector(".logo-container"),i=document.querySelector("nav ul"),n=document.querySelector("#services .services-action button"),c=document.querySelectorAll(".service-block");e&&i&&r&&o&&(e.addEventListener("click",t=>{t.preventDefault(),f(!0)}),document.addEventListener("click",t=>{!o.contains(t.target)&&!e.contains(t.target)&&f(!1)}));function f(t){o.classList.toggle("column",t),e.classList.toggle("full-width",t),i.classList.toggle("show",t),r.classList.toggle("hide",t)}n&&n.addEventListener("click",t=>{t.preventDefault(),window.location.href="pricelist.html"}),c.length>0&&c.forEach(t=>{t.addEventListener("click",s=>{s.preventDefault();const l=t.getAttribute("data-target");l&&(window.location.href=`pricelist.html?service=${encodeURIComponent(l)}`)})});const d=new URLSearchParams(window.location.search).get("section");d&&B(d)}async function R(){async function o(){const d=document.querySelector("#pricelistNav");if(d)try{const t=await fetch("data/pricelist.json");if(!t.ok)throw new Error("Error in try");const{pricelist:s}=await t.json(),l=document.createElement("ul");l.classList.add("categotyList"),s.forEach(h=>{const p=document.createElement("li");p.setAttribute("data-target",`${h.id}`),p.textContent=h.category,p.classList.add("category"),l.appendChild(p)}),d.appendChild(l),b("#pricelistNav li")}catch{console.log("Error")}}o();async function e(){const d=document.querySelector("#pricelistNav-select");if(d)try{const t=await fetch("data/pricelist.json");if(!t.ok)throw new Error("Error in try");const{pricelist:s}=await t.json(),l=document.createElement("select");l.setAttribute("name","categoryList"),l.setAttribute("id","categoryList"),s.forEach(h=>{const p=document.createElement("option");p.setAttribute("value",h.id),p.textContent=h.category,l.appendChild(p)}),d.appendChild(l),b("#pricelistNav-select select")}catch{console.log("Error")}}e();class r{constructor(t,s,l,h){this.id=t,this.name=s,this.price_net=l,this.unit=h}addItem(){const t=document.createElement("tr");return t.innerHTML=`
            <td class="column-category-lp">${this.id}</td>
            <td class="column-category-name">${this.name}</td>
            <td class="column-category-price">${this.price_net}</td>
            <td class="column-category-unit">${this.unit}</td>`,t}}class i{constructor(t,s,l){this.id=t,this.category=s,this.items=l}addCategoryHeader(){const t=document.querySelector("#pricelist"),s=document.createElement("table"),l=document.createElement("thead");l.innerHTML=`<tr>
                <th>Lp.</th>
                <th>${this.category}</th>
                <th>Cena netto (PLN)</th>
                <th>j.m.</th>
            </tr>`,s.appendChild(l),s.setAttribute("id",`${this.id}`);const h=document.createElement("tbody");this.items.forEach(({item_id:p,name:E,price_net:q,unit:w})=>{const C=new r(p,E,q,w);h.appendChild(C.addItem())}),s.appendChild(h),t.appendChild(s)}}const n=await fetch("data/pricelist.json");n.ok?(await n.json()).pricelist.forEach(({id:t,category:s,items:l})=>{new i(t,s,l).addCategoryHeader()}):console.error("Błąd w pobieraniu danych:",n.status),W("header nav ul li");const f=new URLSearchParams(window.location.search).get("service");f&&B(f);const L=document.querySelectorAll("nav ul li");L.length>0&&L.forEach(d=>{d.addEventListener("click",t=>{t.preventDefault();const s=d.getAttribute("data-target");console.log(s),s&&(window.location.href=`./?section=${encodeURIComponent(s)}`)})})}window.addEventListener("load",()=>{window.location.pathname.endsWith("/")||window.location.pathname.endsWith("index.html")?(X(),O(),U(),b("nav ul li"),b(".about-us-action"),b(".home-action button"),x()):window.location.pathname.endsWith("pricelist.html")&&(R(),x())});
