(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function c(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(e){if(e.ep)return;e.ep=!0;const i=c(e);fetch(e.href,i)}})();async function D(o){try{return await(await fetch(o)).json()}catch(t){return console.error("Error fetching data:",t.message),null}}function q(o,t="nav ul"){const c=document.querySelectorAll(o),a=document.querySelector(t);console.log(c),c.forEach(e=>{e.addEventListener("click",i=>{i.preventDefault();const l=e.getAttribute("data-target"),h=document.getElementById(l);h&&(h.scrollIntoView({behavior:"smooth",block:"start"}),a.classList.remove("show","column"))})})}function P(o){if(console.log(o),o){const t=document.getElementById(o);console.log(t),t&&t.scrollIntoView({behavior:"smooth",block:"start"})}}function _(o){document.querySelectorAll(o).forEach(c=>{c.addEventListener("click",a=>{a.preventDefault(),window.location.href="index.html"})})}function I(o,t,c=""){t.innerHTML=`<p>${c}</p>`,c==="Ładowanie"&&(t.innerHTML=`
        <p>${c}</p>
        <div class="newtons-cradle">
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        <div class="newtons-cradle__dot"></div>
        </div>`),o.classList.remove("hide"),o.classList.add("show","fade"),setTimeout(()=>{o.classList.remove("show","fade"),o.classList.add("hide")},3e3)}function M(){const o=r=>r<=9?`0${r}`:r;function t(r,y){r.forEach(u=>u.classList.remove("active")),r[y].classList.add("active"),console.log(`World ChangeActive ${y}`)}function c(r,y,u,w,H,B){let m=1,S=0,v=0,N=window.getComputedStyle(r).width;y.style.width=`${N.slice(0,N.length-2)*u.length}px`,w.textContent=o(u.length),t(H,0),u.forEach(E=>{S=E.clientWidth}),u[0].classList.add("focused");const $=(E,x)=>{u[x-1].classList.add("focused"),B.textContent=o(x),y.style.transform=`translateX(-${E}px)`};return{nextSlide:()=>(u[m-1].classList.remove("focused"),v>=S*(u.length-1)?(v=0,m=1):(v+=S,m+=1),$(v,m),m-1),prevSlide:()=>(u[m-1].classList.remove("focused"),v===0?(v=S*(u.length-1),m=u.length):(v-=S,m-=1),$(v,m),m-1),navToSlide:E=>(u[m-1].classList.remove("focused"),m=parseInt(E),v=(m-1)*S,$(v,m),m-1)}}async function a(r,y){const w=(await D(y)).works[r-1];w?k.innerHTML=`
                <h2>${w.header}</h2>
                <p>${w.location}</p>
                <p>${w.leadTime}</p>
                <p>${w.scopeOfWork}</p>
            `:k.innerHTML="No description available."}const e=r=>{t(L,r),a(r+1,"data/works.json")},i=document.querySelector(".works-slider-actions"),l=i.querySelector(".current"),h=i.querySelector(".total"),n=document.querySelector(".next-action"),d=document.querySelector(".prev-action"),s=document.querySelector(".works-slider"),p=document.querySelector(".works-slider-inner"),f=document.querySelectorAll(".works-slide"),C=document.querySelector(".slider-nav"),L=C.querySelectorAll(".block"),k=document.querySelector(".work-slide-descr"),g=c(s,p,f,h,L,l);a(1,"data/works.json"),n.addEventListener("click",r=>{r.preventDefault(),e(g.nextSlide())}),d.addEventListener("click",r=>{e(g.prevSlide())}),L.forEach(r=>{r.addEventListener("click",y=>{const u=y.target.getAttribute("data-to-slide");e(g.navToSlide(u))})});let j=0,A=0,b=!1;s.addEventListener("touchstart",r=>{j=r.touches[0].clientX,b=!0}),s.addEventListener("touchmove",r=>{b&&(A=r.touches[0].clientX)}),s.addEventListener("touchend",()=>{if(!b)return;const r=j-A;r>50?e(g.nextSlide()):r<-50&&e(g.prevSlide()),b=!1})}function W(){const o=document.querySelector("#services-list"),t=o.querySelectorAll(".service-block");async function c(){const{services:a}=await D("data/services.json");t.forEach((e,i)=>{e.innerHTML=`
                <h3 class="service-name"> ${a[i].name} </h3>
                <img class="service-icon" src=${a[i].img}>
                <p class="service-description"> ${a[i].description}</p>
            `})}c()}function O(){const o={loading:"Ładowanie",success:"Skontaktujemy się z tobą jak najszybciej",failure:"Coś poszło nie tak"},t=document.querySelector(".modal"),c=t.querySelector(".modal-content");emailjs.init("1mXxwMPcfi6IffBb9"),document.getElementById("contact-form").addEventListener("submit",function(a){a.preventDefault(),I(t,c,o.loading),emailjs.sendForm("service_i2jy12d","template_wvdsbu8",this).then(()=>{I(t,c,o.success),a.target.reset()},e=>{I(t,c,o.failure)})})}function T(){const o=document.querySelector("#menuBar-icon"),t=document.querySelector("nav ul"),c=document.querySelector(".toolbar"),a=document.querySelector(".logo-container");o.addEventListener("click",l=>{l.preventDefault(),t.classList.toggle("show","column"),c.classList.add("column"),a.classList.add("column")}),document.querySelector("#services .services-action button").addEventListener("click",l=>{l.preventDefault(),window.location.href="pricelist.html",console.log("clicke")}),document.querySelectorAll(".service-block").forEach(l=>{l.addEventListener("click",h=>{h.preventDefault();const n=l.getAttribute("data-target");console.log(n),window.location.href=`pricelist.html?service=${n}`})})}async function X(){async function o(){const h=document.querySelector("#pricelistNav");if(h)try{const n=await fetch("data/pricelist.json");if(!n.ok)throw new Error("Error in try");const{pricelist:d}=await n.json(),s=document.createElement("ul");s.classList.add("categotyList"),d.forEach(p=>{const f=document.createElement("li");f.setAttribute("data-target",`${p.id}`),f.textContent=p.category,f.classList.add("category"),s.appendChild(f)}),h.appendChild(s),q("#pricelistNav li")}catch{console.log("Error")}}o();async function t(){const h=document.querySelector("#pricelistNav-select");if(h)try{const n=await fetch("data/pricelist.json");if(!n.ok)throw new Error("Error in try");const{pricelist:d}=await n.json(),s=document.createElement("select");s.setAttribute("name","categoryList"),s.setAttribute("id","categoryList"),d.forEach(p=>{const f=document.createElement("option");f.setAttribute("value",p.id),f.textContent=p.category,s.appendChild(f)}),h.appendChild(s)}catch{console.log("Error")}}t();class c{constructor(n,d,s,p){this.id=n,this.name=d,this.price_net=s,this.unit=p}addItem(){const n=document.createElement("tr");return n.innerHTML=`
            <td class="column-category-lp">${this.id}</td>
            <td class="column-category-name">${this.name}</td>
            <td class="column-category-price">${this.price_net}</td>
            <td class="column-category-unit">${this.unit}</td>`,n}}class a{constructor(n,d,s){this.id=n,this.category=d,this.items=s}addCategoryHeader(){const n=document.querySelector("#pricelist"),d=document.createElement("table"),s=document.createElement("thead");s.innerHTML=`<tr>
                <th>Lp.</th>
                <th>${this.category}</th>
                <th>Cena netto (PLN)</th>
                <th>j.m.</th>
            </tr>`,d.appendChild(s),d.setAttribute("id",`${this.id}`);const p=document.createElement("tbody");this.items.forEach(({item_id:f,name:C,price_net:L,unit:k})=>{const g=new c(f,C,L,k);p.appendChild(g.addItem())}),d.appendChild(p),n.appendChild(d)}}const e=await fetch("data/pricelist.json");e.ok?(await e.json()).pricelist.forEach(({id:n,category:d,items:s})=>{new a(n,d,s).addCategoryHeader()}):console.error("Błąd w pobieraniu danych:",e.status),_("header nav ul li");const l=new URLSearchParams(window.location.search).get("service");l&&P(l)}window.addEventListener("DOMContentLoaded",()=>{window.location.pathname.endsWith("/")||window.location.pathname.endsWith("index.html")?(W(),M(),O(),q("nav ul li"),q(".about-us-action"),q(".home-action button"),T()):window.location.pathname.endsWith("pricelist.html")&&(X(),T())});
